@放射線
--track0:サイズ,0,4000,100
--track1:幅,0,360,10
--track2:本数,1,1000,10,1
--track3:位相,-1080,1080,0
--dialog:色1/col,color1=0xffffff;色2/col,color2=0x415269;

local size = obj.track0
local width = obj.track1
local amount = obj.track2

function sin(x)
	return math.sin(math.rad(x))
end
function cos(x)
	return math.cos(math.rad(x))
end

if 360 / amount < width then
	width = 360 / amount + 1
end

obj.setoption("drawtarget", "tempbuffer", size, size)
obj.load("figure","四角形",color2,size)
obj.draw(0,0,0)

obj.load("figure","四角形",color1,size)
if width > 0 then
	for i=1,amount do
		local r1 = -(i-1) * (360 / amount) +   (180 + width+obj.track3)
		local r2 = r1 - width

		obj.drawpoly(0,0,0, -size*cos(r1),size*sin(r1),0, -size*cos(r2),size*sin(r2),0, 0,0,0 )

	end
end

obj.load("tempbuffer")
